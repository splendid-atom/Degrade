# Degrade

## 全局：
这是一个关于两个世界的游戏。

- **地图绘制：**
  - 初步绘制瓦片地图，新增石子路
- **武器系统：**
  - 添加部分武器系统
- **环境渲染：**
  - 增加水渲染
- **3D模型与Prefab：**
  - 制作3D模型的桥`prefab`，确保`prefab`的`tag`为`Bridge`。使用时可以随意拉伸，且人物在桥上走动时会有z轴的起伏。
  - 通过自定义`shader`使3D模型也能使用`sorting layer`，据此令3D模型栏杆能和玩家人物有正确的前后显示关系。
  
  **废墟世界场景：**
  - 已有素材包括桥、栏杆、竹林（三种竹子可用PolygonCollider2D实现大片生成,注意当前每一片竹林设为120棵，太多可导致旋转镜头时的游戏卡顿）、垃圾堆。
  - 新增传送门动画和音效，垃圾堆动画。
  - 改善玩家出生地场景，用围栏圈地。
  - 新手教程完成后镜头移到第一座桥的位置，桥缓缓升起后，镜头还原。
  - 新增房子和NPC，玩家在房子门前可根据提示按F敲门与NPC对话。
  - 对话完成后可使用时光手表回到污染开始的时空。
  - 更新日期：`2025年2月18日`

---

## Player：

- **视角：**
  - **2.5D视角**
- **动画：**
  - 已有动画：`idle`状态下的上下左右方向动画，`moving`状态下的上下左右方向动画
- **新手指引：**
  - 玩家根据指示按下对应按键（伴随音效提示）
- **健康状态：**
  - **生命值**：0-100
  - **护甲值**：0-200
- **地图导航：**
  - **小地图：**
    - 为了在小地图上显示的物体不旋转，复制所有需要显示在小地图上的物体（如环境中的大部分物体和grid），并将其`layer`设置为`onlyminimap`。
  - **大地图：**
    - 按下`M`键打开大地图，使用左键拖动，暂时禁用鼠标滑轮缩放。
    - 当玩家按Q/E旋转视角时，大地图同时旋转，且显示的物体永远正向(直立朝上)
    - 大地图和小地图显示的内容一致，由相机显示的layer决定。
    - 对于3D模型对象，需要额外设置其在复制的`environment`中具有`sorting layer`使其能显示在最上层。
    - 迷雾地图功能：读取/存储迷雾地图数据(`explorationData.txt`)，游戏初始化时大地图被黑色迷雾覆盖，迷雾随着玩家探索而开启。(删除`explorationData.txt`可重置地图迷雾)
- **任务系统：**
  - **任务栏：**
    - 通过inspector或脚本添加任务
    - 实现展开/收起任务描述的功能
    - 添加任务完成时的音效及动画
    - 文字自动调整大小，任务完成后进行划除
- **道具系统：**
  - **道具栏：**
    - 使用空对象`ItemManager`管理，按键左上角的数字对应键盘数字按键
    - 在屏幕下方显示道具栏，玩家可以通过鼠标点击按钮或按下对应数字来使用道具
    - 道具按钮右下角显示数量，右上角显示冷却时间，并使用灰色时钟遮罩表示冷却状态
    - 当前有两行道具，每次只显示一行。玩家可以在鼠标悬浮在道具栏上时滑动滚轮切换行，或使用鼠标拖动滑轮改变行数
- **玩家信息显示：**
  - 在右上角显示玩家的生命值、护甲值和昵称
- **UI设置：**
  - UI字体：通过`ManagerForUI`脚本设置所有`TextMeshPro`使用统一的字体。在对象UI的inspector中设置字体即可。
